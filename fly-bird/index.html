<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="./css/index.css">
    <title>Document</title>
</head>
<body>
    <div class="wrapBg">
        <div class="headTitle">
            <img src="img/bird0.png" alt="" id ='headBird'>
        </div>
        <button id ="startBtn"></button>
        <div id="grassLand1" ></div>
        <div id="grassLand2" ></div>
    </div>
    <script src="./js/bird.js"></script>
    <script>
    var jsWrapBg = document.querySelector('.wrapBg')
    var jsHeadTitle=document.querySelector('.headTitle')
    var jsHeadBird=document.getElementById('headBird')
    var Y = 3  //控制摆动幅度
    var index=0
    var imgArr=["img/bird0.png","img/bird1.png"]

    var headWaveTimer = setInterval(headWave,200) //setInterval:每隔200ms执行一次
    function headWave(){
        Y*=-1  //Y=Y*-1
        jsHeadTitle.style.top=jsHeadTitle.offsetTop + Y + "px"  //offsetTop:容器底部距浏览器底部的位置
        jsHeadBird.src =imgArr[index++]  //bird0->bird1->bird0...
        if(index===2){
            index=0
        }
    }
    var jsGrassLand1=document.getElementById('grassLand1')
    var jsGrassLand2=document.getElementById('grassLand2')

    var landTimer =setInterval(landRun,30)
    function landRun(){
        if(jsGrassLand1.offsetLeft<-343){
            jsGrassLand1.style.left="343px"
        }
        if(jsGrassLand2.offsetLeft<= -343){
            jsGrassLand2.style.left ="343px"
        }
        jsGrassLand1.style.left =jsGrassLand1.offsetLeft -3 + "px"
        jsGrassLand2.style.left =jsGrassLand2.offsetLeft -3 + "px"
        //jsGrassLand1.src = 
    }
    var jsStartBtn =document.getElementById('startBtn')
    jsStartBtn.onclick=function(){
        jsHeadTitle.style.display = "none"
        clearInterval(headWaveTimer)
        jsStartBtn.style.display = "none"
        //出现小鸟
        bird.showBird(jsWrapBg)
        bird.flyBird()
        bird.wingWave() //小鸟煽动翅膀函数
        jsWrapBg.onclick=function(){
            bird.fallSpeed=-8
        }
    }
    </script>
</body>
</html>